(function(){function F(l) {
  var f = 0;
  return function() {
    return f < l.length ? {done:!1, value:l[f++],} : {done:!0};
  };
}
function L(l) {
  var f = "undefined" != typeof Symbol && Symbol.iterator && l[Symbol.iterator];
  return f ? f.call(l) : {next:F(l)};
}
function O(l) {
  l = ["object" == typeof globalThis && globalThis, l, "object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global,];
  for (var f = 0; f < l.length; ++f) {
    var n = l[f];
    if (n && n.Math == Math) {
      return n;
    }
  }
  throw Error("Cannot find global object");
}
var T = O(this), U = "function" == typeof Object.defineProperties ? Object.defineProperty : function(l, f, n) {
  if (l == Array.prototype || l == Object.prototype) {
    return l;
  }
  l[f] = n.value;
  return l;
};
function V(l, f) {
  if (f) {
    a: {
      for (var n = T, r = l.split("."), u = 0; u < r.length - 1; u++) {
        var y = r[u];
        if (!(y in n)) {
          break a;
        }
        n = n[y];
      }
      r = r[r.length - 1];
      u = n[r];
      y = f(u);
      y != u && null != y && U(n, r, {configurable:!0, writable:!0, value:y});
    }
  }
}
V("Promise", function(l) {
  function f(c) {
    this.h = 0;
    this.i = void 0;
    this.g = [];
    this.A = !1;
    var e = this.l();
    try {
      c(e.resolve, e.reject);
    } catch (k) {
      e.reject(k);
    }
  }
  function n() {
    this.g = null;
  }
  function r(c) {
    return c instanceof f ? c : new f(function(e) {
      e(c);
    });
  }
  if (l) {
    return l;
  }
  n.prototype.h = function(c) {
    if (null == this.g) {
      this.g = [];
      var e = this;
      this.i(function() {
        e.m();
      });
    }
    this.g.push(c);
  };
  var u = T.setTimeout;
  n.prototype.i = function(c) {
    u(c, 0);
  };
  n.prototype.m = function() {
    for (; this.g && this.g.length;) {
      var c = this.g;
      this.g = [];
      for (var e = 0; e < c.length; ++e) {
        var k = c[e];
        c[e] = null;
        try {
          k();
        } catch (p) {
          this.l(p);
        }
      }
    }
    this.g = null;
  };
  n.prototype.l = function(c) {
    this.i(function() {
      throw c;
    });
  };
  f.prototype.l = function() {
    function c(p) {
      return function(v) {
        k || (k = !0, p.call(e, v));
      };
    }
    var e = this, k = !1;
    return {resolve:c(this.F), reject:c(this.m)};
  };
  f.prototype.F = function(c) {
    if (c === this) {
      this.m(new TypeError("A Promise cannot resolve to itself"));
    } else {
      if (c instanceof f) {
        this.H(c);
      } else {
        a: {
          switch(typeof c) {
            case "object":
              var e = null != c;
              break a;
            case "function":
              e = !0;
              break a;
            default:
              e = !1;
          }
        }
        e ? this.D(c) : this.v(c);
      }
    }
  };
  f.prototype.D = function(c) {
    var e = void 0;
    try {
      e = c.then;
    } catch (k) {
      this.m(k);
      return;
    }
    "function" == typeof e ? this.I(e, c) : this.v(c);
  };
  f.prototype.m = function(c) {
    this.B(2, c);
  };
  f.prototype.v = function(c) {
    this.B(1, c);
  };
  f.prototype.B = function(c, e) {
    if (0 != this.h) {
      throw Error("Cannot settle(" + c + ", " + e + "): Promise already settled in state" + this.h);
    }
    this.h = c;
    this.i = e;
    2 === this.h && this.G();
    this.L();
  };
  f.prototype.G = function() {
    var c = this;
    u(function() {
      if (c.C()) {
        var e = T.console;
        "undefined" !== typeof e && e.error(c.i);
      }
    }, 1);
  };
  f.prototype.C = function() {
    if (this.A) {
      return !1;
    }
    var c = T.CustomEvent, e = T.Event, k = T.dispatchEvent;
    if ("undefined" === typeof k) {
      return !0;
    }
    "function" === typeof c ? c = new c("unhandledrejection", {cancelable:!0}) : "function" === typeof e ? c = new e("unhandledrejection", {cancelable:!0}) : (c = T.document.createEvent("CustomEvent"), c.initCustomEvent("unhandledrejection", !1, !0, c));
    c.promise = this;
    c.reason = this.i;
    return k(c);
  };
  f.prototype.L = function() {
    if (null != this.g) {
      for (var c = 0; c < this.g.length; ++c) {
        y.h(this.g[c]);
      }
      this.g = null;
    }
  };
  var y = new n();
  f.prototype.H = function(c) {
    var e = this.l();
    c.o(e.resolve, e.reject);
  };
  f.prototype.I = function(c, e) {
    var k = this.l();
    try {
      c.call(e, k.resolve, k.reject);
    } catch (p) {
      k.reject(p);
    }
  };
  f.prototype.then = function(c, e) {
    function k(z, A) {
      return "function" == typeof z ? function(B) {
        try {
          p(z(B));
        } catch (C) {
          v(C);
        }
      } : A;
    }
    var p, v, D = new f(function(z, A) {
      p = z;
      v = A;
    });
    this.o(k(c, p), k(e, v));
    return D;
  };
  f.prototype["catch"] = function(c) {
    return this.then(void 0, c);
  };
  f.prototype.o = function(c, e) {
    function k() {
      switch(p.h) {
        case 1:
          c(p.i);
          break;
        case 2:
          e(p.i);
          break;
        default:
          throw Error("Unexpected state: " + p.h);
      }
    }
    var p = this;
    null == this.g ? y.h(k) : this.g.push(k);
    this.A = !0;
  };
  f.resolve = r;
  f.reject = function(c) {
    return new f(function(e, k) {
      k(c);
    });
  };
  f.race = function(c) {
    return new f(function(e, k) {
      for (var p = L(c), v = p.next(); !v.done; v = p.next()) {
        r(v.value).o(e, k);
      }
    });
  };
  f.all = function(c) {
    var e = L(c), k = e.next();
    return k.done ? r([]) : new f(function(p, v) {
      function D(B) {
        return function(C) {
          z[B] = C;
          A--;
          0 == A && p(z);
        };
      }
      var z = [], A = 0;
      do {
        z.push(void 0), A++, r(k.value).o(D(z.length - 1), v), k = e.next();
      } while (!k.done);
    });
  };
  return f;
});
V("Promise.prototype.finally", function(l) {
  return l ? l : function(f) {
    return this.then(function(n) {
      return Promise.resolve(f()).then(function() {
        return n;
      });
    }, function(n) {
      return Promise.resolve(f()).then(function() {
        throw n;
      });
    });
  };
});
var W = "function" == typeof Object.assign ? Object.assign : function(l, f) {
  for (var n = 1; n < arguments.length; n++) {
    var r = arguments[n];
    if (r) {
      for (var u in r) {
        Object.prototype.hasOwnProperty.call(r, u) && (l[u] = r[u]);
      }
    }
  }
  return l;
};
V("Object.assign", function(l) {
  return l || W;
});
xx.module("common", function(l) {
  function f() {
  }
  function n(a) {
    if (void 0 === a) {
      var b = !0;
      a = "Please wait";
    } else {
      b = void 0 === a.J ? !0 : a.J, a = void 0 === a.s || "" == a.s ? "Please wait" : a.s;
    }
    I++;
    g._("loadmsg").innerHTML = a;
    b && g._("loadingmask").classList.remove("nodisplay");
    D(g._("loading"));
  }
  function r() {
    0 >= I || (I--, 0 < I || (g._("loading").classList.add("nodisplay"), g._("loadingmask").classList.add("nodisplay")));
  }
  function u(a, b) {
    for (var d = a, h = [], m = /{([^}]+)}/g, t; t = m.exec(d);) {
      h.push(t[1]);
    }
    for (var G in h) {
      m = h[G];
      t = m.split(".");
      if (1 < t.length) {
        d = b[t[0]];
        for (var E = 1; E < t.length && void 0 !== d; E++) {
          d = d[t[E]];
        }
      } else {
        d = b[m];
      }
      void 0 === d && (d = "");
      a = a.replace("{" + m + "}", d);
    }
    return a;
  }
  function y(a, b, d) {
    this.sl_cont = g._(a);
    this.sl_ball = g._(b);
    this.sl_r = d;
    this.sl_maxRight = g.getWidth(this.sl_cont) - g.getWidth(this.sl_ball) - 2;
  }
  function c(a, b, d) {
    d = void 0 === d ? !1 : d;
    a = g._(a);
    if (d || !a.classList.contains("nodisplay")) {
      g.moveElement(a, 0, 0);
      b = g._(b);
      b.classList.add("nodisplay");
      d = document.body.clientWidth;
      var h = document.body.clientHeight, m = (window.outerHeight - g.getHeight(a) - 100) / 2 + document.body.scrollTop;
      m -= 10;
      10 > m && (m = 10);
      if (b) {
        var t = g.getHeight(a);
        h < m + t + 10 && (h = m + t + 10);
        b.style.width = d + "px";
        b.style.height = h + "px";
        b.classList.remove("nodisplay");
      }
      D(a);
    }
  }
  function e(a) {
    if (xx.vars.u) {
      xx.vars.msgArr.push(a);
    } else if (!1 === g._("msgbox").classList.contains("nodisplay")) {
      xx.vars.msgArr.push(a);
    } else {
      xx.vars.u = !0;
      var b = {msg:"testing 123", putleft:!1, bc:"#eee", boxType:0, tmo:!0, callback1:null, callback2:null};
      Object.assign(b, a);
      b.msg = b.msg.replace(/\|/g, "<br>");
      J = b.callback1 || a.callback1;
      K = b.callback2 || a.callback2;
      P = b.tmo;
      if ("g" === b.bc) {
        b.bc = "#8f8";
      } else if ("w" === b.bc) {
        b.bc = "#f94";
      } else if ("b" === b.bc) {
        b.bc = "#f66";
      } else if ("h" === b.bc) {
        b.bc = "#ff8";
      } else if (void 0 === b.bc || null === b.bc) {
        b.bc = "#eee";
      }
      a = g._("msgbox");
      a.style.backgroundColor = b.bc;
      var d = a.querySelector(".bmessage");
      d.innerHTML = b.msg;
      b.putleft && (d.style.textAlign = "left");
      0 === b.boxType ? (a.querySelector("#msgButton").classList.remove("nodisplay"), a.querySelector("#msgButton button").focus()) : 1 === b.boxType && (a.querySelector("#yesnoButtons").classList.remove("nodisplay"), a.querySelector("#yesnoButtons button").focus());
      a.style.width = "auto";
      d = g.getWidth(a);
      200 > d ? a.style.width = "200px" : 800 < d && (a.style.width = "800px");
      c("msgbox", "msgboxmask", !0);
      0 === b.boxType ? a.querySelector("#msgButton button").focus() : 1 === b.boxType && a.querySelector("#yesnoButtons button").focus();
      xx.vars.u = !1;
    }
  }
  function k(a, b) {
    a.preventDefault();
    var d = "No" !== b.innerHTML;
    g._("msgbox").classList.add("nodisplay");
    g._("msgButton").classList.add("nodisplay");
    g._("yesnoButtons").classList.add("nodisplay");
    P && g._("msgboxmask").classList.add("nodisplay");
    null != J && d ? (J(), J = null) : null != K && (K(), K = null);
    0 < xx.vars.msgArr.length && (d = xx.vars.msgArr.shift(), e(d));
  }
  function p(a) {
    for (var b = 0; b < p.j.length; b++) {
      a = a.replace(new RegExp(p.j[b][0], "g"), p.j[b][1]);
    }
    return a;
  }
  function v(a) {
    for (var b = 0; b < v.j.length; b++) {
      a = a.replace(new RegExp(v.j[b][1], "g"), v.j[b][0]);
    }
    return a;
  }
  function D(a) {
    var b = (window.innerHeight - g.getOffsetHeight(a)) / 2.7 + document.body.scrollTop, d = (window.innerWidth - g.getOffsetWidth(a)) / 2 + document.body.scrollLeft;
    50 > b && (b = 50);
    10 > d && (d = 10);
    a.style.top = b + "px";
    a.style.left = d + "px";
    a.classList.remove("nodisplay");
  }
  function z() {
    g._("bodymask").classList.remove("nodisplay");
    setTimeout(function() {
      g._("bodymask").classList.add("nodisplay");
    }, 100);
  }
  function A() {
    Q.callMenuFunc(x);
  }
  function B(a) {
    if (a = void 0 === a ? null : a) {
      a.style.top = M + 35 + "px";
    }
    var b = g._("wrapper");
    b.style.height = "auto";
    var d = b.offsetHeight, h = window.innerHeight - R;
    d < h && (d = h);
    a && (a = a.offsetTop - M + a.offsetHeight + 30, d < a && (d = a));
    b.style.height = d + "px";
  }
  function C(a) {
    a = void 0 === a ? null : a;
    var b = document.body.offsetWidth;
    a && (a.style.left = (b - a.offsetWidth) / 2 + "px");
    S !== b && (S = b, f(b));
  }
  var N = xx.vars, g = xx.q, w, Q;
  xx.imports.push(function() {
    w = xx.meta;
    Q = xx.menuFunctions;
  });
  N.hcode = {};
  l.extend({addhcode:function(a) {
    g.extend(N.hcode, a);
  }, loadingOn:n, loadingOff:r, isLoadingOn:function() {
    return 0 < I ? !0 : !1;
  }, getHtmlCode:function(a, b) {
    var d = N.hcode[a];
    return void 0 === b ? d : u(d, b);
  }, getHtml:function(a, b) {
    var d = document.getElementById(a).innerHTML;
    return void 0 === b ? d : u(d, b);
  }, replacer:u, getImageSize:function(a, b) {
    if ("" === a) {
      b.w = 0, b.K = 0;
    } else {
      var d = new Image();
      d.onload = function() {
        b.w = this.width;
        b.K = this.height;
      };
      d.src = a;
    }
  }, showMessage:e, htmlspecialchars:p, htmlspecialchars_decode:v, fixElementAndMask:c, validateEmail:function(a) {
    return /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a);
  }, isEmail:function(a) {
    return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a);
  }, isValidURL:function(a) {
    return X.test(a) ? !0 : !1;
  }, widen:function(a) {
    void 0 === a && (a = !0);
    a ? (g._("col3").classList.add("nodisplay"), g._("col2").style.width = "99%") : (g._("col3").classList.remove("nodisplay"), g._("col2").style.width = "");
  }, enterKeyOnInput:function(a, b) {
    if (13 == a.which) {
      a.stopPropagation();
      a.preventDefault();
      var d = b.querySelectorAll("input.input_key,input.textinput");
      if (a.target === d[d.length - 1]) {
        return !0;
      }
      for (var h = 0; h < d.length; h++) {
        if (a.target === d[h]) {
          d[h + 1].focus();
          break;
        }
      }
    }
    return !1;
  }, get_ext:function(a) {
    var b;
    "string" === typeof a ? b = a : b = a.N();
    a = b.lastIndexOf("/") + 1;
    0 >= a && (a = b.lastIndexOf("\\") + 1);
    b = b.slice(a);
    return b.slice(b.lastIndexOf(".") + 1);
  }, doFetch:function(a, b, d, h, m) {
    m = void 0 === m ? "Please wait..." : m;
    var t = "?";
    b && (a = "lib/php/" + a + "?todo=" + b, t = "&");
    d && (a = a + t + g.param(d));
    var G = {url:a, s:m};
    n(G);
    return new Promise(function(E, Y) {
      fetch(a, {method:"POST", headers:{Accept:"application/json, text/plain, */*", "Content-Type":"application/json",}, body:JSON.stringify(h),}).then(function(H) {
        return H.json();
      }).then(function(H) {
        E(H);
      })["catch"](function(H) {
        console.log(H);
        Y(H);
      })["finally"](function() {
        r(G);
      });
    });
  }, Slider1:y, rgbaColor:function(a, b) {
    var d = a % 256;
    a = Math.floor(a / 256);
    var h = a % 256, m = Math.floor(a / 256);
    return b ? "rgba(" + d + "," + h + "," + m + "," + b + ")" : "rgb(" + d + "," + h + "," + m + ")";
  }, random:function(a, b) {
    return Math.round(Math.random() * (b - a) + a);
  }, trim:function(a) {
    a = a.toString();
    for (var b = 0, d = a.length - 1; b <= d && 33 > a.charCodeAt(b);) {
      ++b;
    }
    for (; d > b && 33 > a.charCodeAt(d);) {
      --d;
    }
    return a.substr(b, d - b + 1);
  }, callMenuFunc:A, getMob:function() {
    return x;
  }, setMob:function(a, b) {
    x.menuActive = a;
    x.submenuActive = b;
  }, makemenu:function() {
    function a(t, G, E) {
      t = t.replace(/[ -\/_!@#$%^&*()=+\\]/g, "");
      return void 0 === E ? "mnu" + G + "_" + t : "mnu" + G + "_" + E + t;
    }
    var b = '<ul id="theMenu" class="links">', d = 0;
    x.tm = [];
    x.sm = [];
    for (var h = 0; h < w.topmenu.length; h++) {
      if (w.topmenu[h].name) {
        w.topmenu[h].func ? x.tm.push(w.topmenu[h].func) : x.tm.push(a(w.topmenu[h].name, h));
        b = w.topmenu[h].M ? b + ('<li class="menu nodisplay" data-v="' + h + '"') : b + ('<li class="menu" data-v="' + h + '"');
        w.topmenu[h].id && (b += ' id="' + w.topmenu[h].id + '"');
        b += ">" + w.topmenu[h].name;
        if (w.topmenu[h].submenu) {
          b += ' \u25bc<ul class="ul_' + h + ' nodisplay">';
          for (var m = 0; m < w.topmenu[h].submenu.length; m++) {
            w.topmenu[h].submenu[m].func ? x.sm.push(w.topmenu[h].submenu[m].func) : x.sm.push(a(w.topmenu[h].submenu[m].name, h, m)), b += '<li class="submenu" data-v="' + d + '">' + w.topmenu[h].submenu[m].name + "</li>", d++;
          }
          b += "</ul>";
        }
        b += "</li>";
      }
    }
    b += "</ul>";
    g._("mainmenu_placeholder").outerHTML = b;
  }, myStop:function(a) {
    e({msg:"<b>Sorry but a fatal error has occurred.</b>|" + a, putleft:!0, bc:"#f88", boxType:2, tmo:!1,});
  }, centreBoxAndShow:D, showDialog:function(a) {
    a = g._(a);
    a.classList.remove("nodisplay");
    B(a);
    C(a);
    g._("dialogmask").classList.remove("nodisplay");
  }, hideDialog:function(a) {
    g._(a).classList.add("nodisplay");
    g._("dialogmask").classList.add("nodisplay");
    B();
    C();
  }, checkHeight:B, checkWidth:C, transfer_needed_variables:function(a) {
    M = a.th;
    R = a.tbh;
    f = a.putTopdiv;
  },});
  xx.constants = {MAX_FILE_SIZE:2000000,};
  var I = 0, J = null, K = null, P = !0, S;
  window.onload = function() {
  };
  var X = RegExp("^((http|https):\\/\\/)?(([a-zA-Z0-9$\\-_.+!*'(),;:&=]|%[0-9a-fA-F]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-zA-Z0-9\\-\\u00C0-\\u017F]+\\.)+([a-zA-Z]{2,}))(:[0-9]+)?(\\/(([a-zA-Z0-9$\\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*(\\/([a-zA-Z0-9$\\-_.+!*'(),;:@&=]|%[0-9a-fA-F]{2})*)*)?(\\?([a-zA-Z0-9$\\-_.+!*'(),;:@&=/?]|%[0-9a-fA-F]{2})*)?(\\#([a-zA-Z0-9$\\-_.+!*'(),;:@&=/?]|%[0-9a-fA-F]{2})*)?)?$");
  y.prototype = {moveBall:function(a) {
    var b = a.offsetX - 7;
    a.target === this.sl_ball && (b += a.target.offsetLeft);
    0 > b ? b = 0 : b > this.sl_maxRight && (b = this.sl_maxRight);
    this.sl_ball.style.left = b + "px";
    this.sl_r = b / this.sl_maxRight;
  }, initBall:function() {
    this.sl_ball.style.left = this.sl_r * this.sl_maxRight + "px";
  },};
  (function(a, b, d) {
    var h = new y(a, b, d);
    h.initBall();
    "cont" === a ? g._("cont").addEventListener("click", function(m) {
      h.moveBall(m);
    }) : g._(a).addEventListener("click", function(m) {
      h.moveBall(m);
    });
    return h;
  })("cont", "ball", 0.2);
  g.delegate("msgbox", "click", "button", function(a) {
    k(a, this);
  });
  g.delegate("msgbox", "keypress", "button", function(a) {
    13 == a.which && k(a, this);
  });
  p.j = [["&", "&amp;"], ["<", "&lt;"], [">", "&gt;"], ['"', "&quot;"], ["'", "&#039;"],];
  v.j = [["'", "&#039;"], ['"', "&quot;"], [">", "&gt;"], ["<", "&lt;"], ["&", "&amp;"],];
  var x = {menuActive:-1, submenuActive:-1,};
  g.delegate("topmenucontainer", "click", "#theMenu li", function(a) {
    a.stopPropagation();
    z();
    this.classList.contains("menu") ? (x.menuActive = Number(this.getAttribute("data-v")), x.submenuActive = -1) : (x.menuActive = Number(this.parentNode.parentNode.getAttribute("data-v")), x.submenuActive = Number(this.getAttribute("data-v")));
    A();
  });
  window.addEventListener("resize", function() {
    if (g._("dialogmask").classList.contains("nodisplay")) {
      var a = g._("wrappermask");
      if (a.classList.contains("nodisplay")) {
        B(), C();
      } else {
        a.style.width = "0px";
        a.style.height = "0px";
        B();
        C();
        var b = g._("wrapper");
        a.style.width = b.offsetWidth + "px";
        a.style.height = b.offsetHeight + "px";
      }
    } else {
      for (a = "startupbox myExplorer unlockbox creatorloginbox getqnakeybox catlist_container getnumqs gettimeallowed getaudiovolume".split(" "), b = 0; b < a.length; b++) {
        var d = g._(a[b]);
        if (!d.classList.contains("nodisplay")) {
          B(d);
          C(d);
          break;
        }
      }
    }
    c("msgbox", "msgboxmask");
    c("loading", "loadingmask");
    a = g._("endbox");
    a.classList.contains("nodisplay") || D(a);
  });
  var M, R;
});
}).call(this);
